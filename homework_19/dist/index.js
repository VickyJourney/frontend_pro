(()=>{"use strict";var t={};function e(t,e){return new Date(1e3*t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:e})}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const n={"nyc.jpeg":t.p+"91771aa527260f015e2b.jpeg","ods.jpg":t.p+"08e39b90903463e98dec.jpg","Esmoriz.jpg":t.p+"19c94593ea216e4697d4.jpg","waw.jpeg":t.p+"04d1db1ef6ae4e677597.jpeg"},o=document.querySelector(".city_photo");let r={lat:40.71427,lon:-74.00597};function i(t,n){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${n}&units=metric&appid=d12b43920720e2a34508a4346608f996`).then(t=>{if(!t.ok)throw new Error(`HTTP error. Status: ${t.status}`);return t.json()}).then(t=>{console.log(t);const n=document.querySelector("h1"),o=t.name;n.textContent=o;const r=document.querySelector("h2"),i=t.timezone;r.textContent=function(t){const e=new Date,n=e.getTime()+6e4*e.getTimezoneOffset();return new Date(n+1e3*t).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}(i);const c=document.getElementById("actualTemperature"),a=t.main.temp;c.textContent=`Actual: ${Math.trunc(a)}℃`;const s=document.getElementById("feelsLikeTemp"),u=t.main.feels_like;s.textContent=`Feels like: ${Math.trunc(u)}℃`;const l=document.getElementById("description"),d=t.weather.find(t=>t.description);l.textContent=d.description.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");const p=document.getElementById("humidity"),m=t.main.humidity;p.textContent=`Humidity: ${m}%`;const g=document.getElementById("wind"),h=t.wind.speed;g.textContent=`Wind: ${Math.round(3.6*h*10)/10} km/h`;const y=document.getElementById("sunrise"),f=t.sys.sunrise;y.textContent=e(f,"Europe/Lisbon");const w=document.getElementById("sunset"),b=t.sys.sunset;w.textContent=e(b,"Europe/Lisbon")}).catch(t=>{console.error("Error with getting information: ",t)})}o.src=n["nyc.jpeg"],i(r.lat,r.lon),document.addEventListener("click",t=>{if(t.target.classList.contains("city-btn")){const e=parseFloat(t.target.dataset.lat),c=parseFloat(t.target.dataset.lon),a=t.target.dataset.img;r={lat:e,lon:c},o.src=n[a],i(e,c)}}),document.querySelector(".reload_btn").addEventListener("click",()=>{i(r.lat,r.lon)})})();